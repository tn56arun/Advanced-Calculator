<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Advanced Calculator</title>

<!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#f59e0b">

<!-- Tailwind -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Icons (still kept if you need later, but icon removed from UI) -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');

body {
  font-family: 'Poppins', sans-serif;
}

.fade-in {
  animation: fadeIn .4s ease-in-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

input::-webkit-inner-spin-button {
  -webkit-appearance: none;
}

.readonlyBox {
  width: 100%;
  background: #fef3c7;
  border: 1px solid #fbbf24;
  padding: 8px;
  border-radius: 8px;
  font-weight: 600;
  text-align: center;
}
</style>
</head>

<body class="bg-white min-h-screen flex flex-col">

<!-- HEADER (ICON REMOVED) -->
<div class="flex items-center justify-center mb-6 mt-4">
  <h1 class="text-2xl md:text-4xl font-bold text-amber-800">
    Advanced Calculator
  </h1>
</div>

<!-- TOP BUTTONS -->
<div class="flex justify-center gap-4 mb-6">
  <button onclick="showFood()"
    class="bg-amber-500 hover:bg-amber-600 text-white px-6 py-2 rounded-lg font-semibold shadow-md transition">
    Food
  </button>

  <button onclick="showPatty()"
    class="bg-amber-500 hover:bg-amber-600 text-white px-6 py-2 rounded-lg font-semibold shadow-md transition">
    Patty
  </button>
</div>

<!-- CONTENT -->
<div class="flex-grow">

<!-- FOOD TOOL -->
<div id="foodTool" class="hidden fade-in max-w-md mx-auto">
  <div class="bg-amber-50 border border-amber-200 rounded-xl p-4 shadow">
    <h2 class="text-lg font-bold text-amber-700 mb-4">Food Tool</h2>

    <table class="w-full text-sm">
      <tbody class="divide-y">
        <tr>
          <td class="py-2 font-semibold">Total</td>
          <td>
            <input id="foodTotal" type="number"
              class="w-full border border-amber-300 rounded-lg p-2 font-semibold"
              oninput="calcFood()">
          </td>
        </tr>

        <tr>
          <td class="py-2 font-semibold">Rgs</td>
          <td><input id="foodRgs" readonly class="readonlyBox"></td>
        </tr>

        <tr>
          <td class="py-2 font-semibold">Water</td>
          <td><input id="foodWater" readonly class="readonlyBox"></td>
        </tr>
      </tbody>
    </table>

    <button onclick="resetFood()"
      class="mt-4 w-full bg-gray-400 hover:bg-gray-500 text-white py-2 rounded-lg font-semibold">
      Reset
    </button>
  </div>
</div>

<!-- PATTY TOOL -->
<div id="pattyTool" class="hidden fade-in max-w-md mx-auto">
  <div class="bg-amber-50 border border-amber-200 rounded-xl p-4 shadow">
    <h2 class="text-lg font-bold text-amber-700 mb-4">Patty Tool</h2>

    <table class="w-full text-sm">
      <tbody class="divide-y">
        <tr>
          <td class="py-2 font-semibold">Grs</td>
          <td>
            <input id="grs" type="number"
              class="w-full border border-amber-300 rounded-lg p-2 font-semibold"
              oninput="calcPatty()">
          </td>
        </tr>

        <tr>
          <td class="py-2 font-semibold">Honey</td>
          <td><input id="honey" readonly class="readonlyBox"></td>
        </tr>

        <tr>
          <td class="py-2 font-semibold">Water</td>
          <td><input id="water" readonly class="readonlyBox"></td>
        </tr>

        <tr>
          <td class="py-2 font-semibold">Yeast</td>
          <td><input id="yeast" readonly class="readonlyBox"></td>
        </tr>

        <tr>
          <td class="py-2 font-semibold">Milk</td>
          <td><input id="milk" readonly class="readonlyBox"></td>
        </tr>

        <tr>
          <td class="py-2 font-semibold">Soya</td>
          <td><input id="soya" readonly class="readonlyBox"></td>
        </tr>

        <tr>
          <td class="py-2 font-semibold">Sundal</td>
          <td><input id="sundal" readonly class="readonlyBox"></td>
        </tr>

        <tr>
          <td class="py-2 font-semibold">Temp</td>
          <td><input value="90 Â°C" readonly class="readonlyBox"></td>
        </tr>
      </tbody>
    </table>

    <button onclick="resetPatty()"
      class="mt-4 w-full bg-gray-400 hover:bg-gray-500 text-white py-2 rounded-lg font-semibold">
      Reset
    </button>
  </div>
</div>

</div>

<!-- FOOTER -->
<div class="w-full mt-10 mb-4 text-center">
  <div class="bg-amber-800 text-white rounded-lg py-3 px-4 inline-block shadow-md">
    <p class="text-base font-semibold">Hari Bee Farm</p>
    <p class="text-amber-200 text-xs mt-1">
      Do you like honey? We're sure you loved us.
    </p>
  </div>
</div>

<!-- SCRIPT -->
<script>
const foodTool = document.getElementById("foodTool");
const pattyTool = document.getElementById("pattyTool");

function showFood() {
  foodTool.classList.remove("hidden");
  pattyTool.classList.add("hidden");
}

function showPatty() {
  pattyTool.classList.remove("hidden");
  foodTool.classList.add("hidden");
}

/* FOOD */
function calcFood() {
  let t = parseFloat(foodTotal.value);
  if (!isNaN(t)) {
    let v = (t / 1.6).toFixed(3);
    foodRgs.value = v;
    foodWater.value = v;
  }
}

function resetFood() {
  foodTotal.value = "";
  foodRgs.value = "";
  foodWater.value = "";
}

/* PATTY */
function calcPatty() {
  let g = parseFloat(grs.value);
  if (!isNaN(g)) {
    honey.value  = (g * 0.088).toFixed(3);
    water.value  = (g * 0.177).toFixed(3);
    yeast.value  = (g * 0.008).toFixed(3);
    milk.value   = (g * 0.011).toFixed(3);
    soya.value   = (g * 0.017).toFixed(3);
    sundal.value = (g * 0.017).toFixed(3);
  }
}

function resetPatty() {
  grs.value = "";
  honey.value = "";
  water.value = "";
  yeast.value = "";
  milk.value = "";
  soya.value = "";
  sundal.value = "";
}

/* SERVICE WORKER */
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("sw.js");
}
</script>

</body>
</html>
